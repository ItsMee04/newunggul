<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <div class="sidebar-inner slimscroll">
        <div id="sidebar-menu" class="sidebar-menu">
            <ul>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Main</h6>
                    <ul>
                        <li><a href="/dashboard"><i data-feather="grid"></i><span> Dashboard</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Pegawai</h6>
                    <ul>
                        <li><a href="/pegawai"><i data-feather="user"></i><span> Pegawai</span></a></li>
                        <li><a href="/user"><i data-feather="users"></i><span> Managemen Pengguna</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Produk</h6>
                    <ul>
                        <li><a href="/jenis"><i data-feather="tag"></i><span> Jenis Produk</span></a></li>
                        <li><a href="/produk"><i data-feather="box"></i><span> Produk</span></a></li>
                        <li><a href="/nampan"><i data-feather="user"></i><span> Nampan</span></a></li>
                        <li><a href="/scan"><i data-feather="camera"></i><span> Scan Barcode</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Pelanggan & Suplier</h6>
                    <ul>
                        <li><a href="/pelanggan"><i data-feather="user"></i><span> Pelanggan</span></a></li>
                        <li><a href="/suplier"><i data-feather="users"></i><span> Suplier</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Transaksi</h6>
                    <ul>
                        <li><a href="/diskon"><i data-feather="tag"></i><span> Diskon</span></a></li>
                        <li><a href="/pos"><i data-feather="hard-drive"></i><span> POS</span></a></li>
                        <li><a href="/order"><i data-feather="file-minus"></i><span> Order</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Stock</h6>
                    <ul>
                        <li><a href="manage-stocks.html"><i data-feather="package"></i><span>Manage
                                    Stock</span></a></li>
                        <li><a href="stock-adjustment.html"><i data-feather="clipboard"></i><span>Stock
                                    Adjustment</span></a></li>
                        <li><a href="stock-transfer.html"><i data-feather="truck"></i><span>Stock
                                    Transfer</span></a></li>
                    </ul>
                </li>
                <li class="submenu-open">
                    <h6 class="submenu-hdr">Reports</h6>
                    <ul>
                        <li><a href="sales-report.html"><i data-feather="bar-chart-2"></i><span>Sales
                                    Report</span></a></li>
                        <li><a href="purchase-report.html"><i data-feather="pie-chart"></i><span>Purchase
                                    report</span></a></li>
                        <li><a href="inventory-report.html"><i data-feather="inbox"></i><span>Inventory
                                    Report</span></a></li>
                        <li><a href="invoice-report.html"><i data-feather="file"></i><span>Invoice
                                    Report</span></a></li>
                        <li><a href="supplier-report.html"><i data-feather="user-check"></i><span>Supplier
                                    Report</span></a></li>
                        <li><a href="customer-report.html"><i data-feather="user"></i><span>Customer
                                    Report</span></a></li>
                        <li><a href="expense-report.html"><i data-feather="file"></i><span>Expense
                                    Report</span></a></li>
                        <li><a href="income-report.html"><i data-feather="bar-chart"></i><span>Income
                                    Report</span></a></li>
                        <li><a href="tax-reports.html"><i data-feather="database"></i><span>Tax
                                    Report</span></a></li>
                        <li><a href="profit-and-loss.html"><i data-feather="pie-chart"></i><span>Profit &
                                    Loss</span></a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- /Sidebar -->

<!-- Sidebar -->
<div class="sidebar horizontal-sidebar" id="horizontal-sidebar">
    <div id="sidebar-menu-3" class="sidebar-menu">
        <ul class="nav">
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="grid"></i><span> Main </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/dashboard"><span> Dashboard</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="users"></i><span> Pegawai </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/pegawai"><span> Pegawai</span></a></li>
                    <li><a href="/user"><span> Managemen Pengguna</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="hard-drive"></i><span> Produk </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/jenis"><span> Jenis</span></a></li>
                    <li><a href="/produk"><span> Produk</span></a></li>
                    <li><a href="/nampan"><span> Nampan</span></a></li>
                    <li><a href="/scan"><span> Scan Barcode</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="user"></i><span> Pelanggan & Suplier </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/pelanggan"><span> Pelanggan</span></a></li>
                    <li><a href="/suplier"><span> Suplier</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="shopping-bag"></i><span> Transaksi </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/diskon"><span> Diskon</span></a></li>
                    <li><a href="/pos"><span> POS</span></a></li>
                    <li><a href="/order"><span> Order</span></a></li>
                    <li><a href="/pembelian"><span> Pembelian</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="clipboard"></i><span> Stock </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="/stock"><span> Manage Stock</span></a></li>
                </ul>
            </li>
            <li class="submenu">
                <a href="javascript:void(0);"><i data-feather="printer"></i><span> Report </span> <span
                        class="menu-arrow"></span></a>
                <ul>
                    <li><a href="sales-report.html"><span>Sales Report</span></a></li>
                    <li><a href="purchase-report.html"><span>Purchase report</span></a></li>
                    <li><a href="inventory-report.html"><span>Inventory Report</span></a></li>
                    <li><a href="invoice-report.html"><span>Invoice Report</span></a></li>
                    <li><a href="supplier-report.html"><span>Supplier Report</span></a></li>
                    <li><a href="customer-report.html"><span>Customer Report</span></a></li>
                    <li><a href="expense-report.html"><span>Expense Report</span></a></li>
                    <li><a href="income-report.html"><span>Income Report</span></a></li>
                    <li><a href="tax-reports.html"><span>Tax Report</span></a></li>
                    <li><a href="profit-and-loss.html"><span>Profit & Loss</span></a></li>
                </ul>
            </li>
        </ul>
    </div>
</div>
<!-- /Sidebar -->

<script>
    // Dapatkan URL saat ini
    var currentUrl = window.location.pathname.split('/')[1]; // Ambil bagian utama dari path

    // Daftar ID atau kelas sidebar yang ingin diproses
    var sidebarSelectors = ['#sidebar', '#collapsed-sidebar', '#horizontal-sidebar'];

    // Fungsi untuk menambahkan class active pada menu yang sesuai
    function setActiveMenu(selector) {
        // Sidebar biasa, horizontal, dan collapsed
        var menuItems = document.querySelectorAll(`${selector} a`);

        // Looping melalui setiap item menu
        menuItems.forEach(function(menuItem) {
            var menuItemUrl = menuItem.getAttribute('href').split('/')[1]; // Ambil bagian utama dari URL <a>

            // Jika URL cocok
            if (currentUrl === menuItemUrl) {
                if (selector === '#horizontal-sidebar') {
                    menuItem.classList.add('active'); // Tambahkan class 'active' pada <a>

                    // Tambahkan class 'subdrop' dan 'active' pada <li> yang merupakan parent dari <a>
                    var parentLi = menuItem.closest('li');
                    if (parentLi) {
                        parentLi.classList.add('active'); // Menambahkan class 'active' pada <li>
                        parentLi.classList.add('subdrop'); // Menambahkan class 'subdrop' untuk membuka submenu
                    }
                }
                // Untuk sidebar biasa, tambahkan 'active' pada <li>
                else {
                    // Tambahkan class 'active' ke elemen parent <li> atau <div>
                    menuItem.parentElement.classList.add('active');

                    // Periksa jika elemen memiliki parent dengan submenu
                    var parentMenu = menuItem.closest('.submenu');
                    if (parentMenu) {
                        // Tambahkan class 'active' ke parent submenu
                        parentMenu.classList.add('active');

                        // Buka submenu jika ada (untuk memastikan submenu terbuka)
                        parentMenu.style.display = 'block';
                    }
                }
            }
        });
    }

    // Loop untuk setiap sidebar yang ada
    sidebarSelectors.forEach(function(selector) {
        setActiveMenu(selector);
    });
</script>
